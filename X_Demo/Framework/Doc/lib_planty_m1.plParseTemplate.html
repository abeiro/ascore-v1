
		<html>
		<head>
		<title>Documentacion CoreG2 Funcion plParseTemplate</title>
		</head>
		<style>
		body 		{font-family:verdana,sans,serif; font-size:10px;}
		.mini		{font-size:8px;}
		.box		{border:1px solid gray;background:#EEEEFF;}
		.desc		{font-size:12px;border:1px solid gray; padding:5px;}   
		</style>
		<body>
		<h1>CoreG2 version 0.47.2</h1>
		<h2>plParseTemplate</h2>
		<span class="mini">Fichero /local/trabajo/asCore/Framework/../Framework/Lib/lib_planty_m1.php</span>
		<br><br><br><br><div class="desc">	}
<br>	
</div>
<br><div class="box"><code><font color="#000000">
<font color="#007700">&lt;?</font><font color="#0000BB">php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function&nbsp;</font><font color="#0000BB">plParseTemplate</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">,</font><font color="#0000BB">$external</font><font color="#007700">=</font><font color="#DD0000">""</font><font color="#007700">)&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</font><font color="#0000BB">$styles</font><font color="#007700">,</font><font color="#0000BB">$nn</font><font color="#007700">,</font><font color="#0000BB">$SYS</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</font><font color="#0000BB">$cut1</font><font color="#007700">,</font><font color="#0000BB">$cut2</font><font color="#007700">,</font><font color="#0000BB">$head</font><font color="#007700">,</font><font color="#0000BB">$navvars</font><font color="#007700">,</font><font color="#0000BB">$nextpage</font><font color="#007700">,</font><font color="#0000BB">$prevpage</font><font color="#007700">,</font><font color="#0000BB">$initialized</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$bm</font><font color="#007700">=</font><font color="#0000BB">getmicrotime</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</font><font color="#0000BB">$initialized</font><font color="#007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$copy</font><font color="#007700">=</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">data</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$cut1</font><font color="#007700">=</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_array_search_fuzz</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">[</font><font color="#DD0000">"set"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$cut2</font><font color="#007700">=</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_array_search_fuzz</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">[</font><font color="#DD0000">"end"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$head</font><font color="#007700">=(</font><font color="#0000BB">$cut1</font><font color="#007700">&amp;&amp;</font><font color="#0000BB">$cut2</font><font color="#007700">)&nbsp;?&nbsp;</font><font color="#0000BB">array_splice</font><font color="#007700">(</font><font color="#0000BB">$copy</font><font color="#007700">,</font><font color="#0000BB">$cut1</font><font color="#007700">,</font><font color="#0000BB">$cut2</font><font color="#007700">-</font><font color="#0000BB">$cut1</font><font color="#007700">)&nbsp;:&nbsp;</font><font color="#0000BB">$copy</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$cc</font><font color="#007700">=</font><font color="#DD0000">"dynamic_class_"</font><font color="#007700">.</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">name</font><font color="#007700">.(</font><font color="#0000BB">$nn</font><font color="#007700">%</font><font color="#0000BB">$styles</font><font color="#007700">).</font><font color="#DD0000">""</font><font color="#007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_object</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$dat</font><font color="#007700">=</font><font color="#0000BB">get_object_vars</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//dataDump($dat);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Navvars&nbsp;patch&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">=</font><font color="#DD0000">"?navvars=on"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"NAVVARS"</font><font color="#007700">]&nbsp;as&nbsp;</font><font color="#0000BB">$k</font><font color="#007700">=&gt;</font><font color="#0000BB">$v</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$navvars</font><font color="#007700">.=</font><font color="#DD0000">"&amp;$v="</font><font color="#007700">.</font><font color="#0000BB">$GLOBALS</font><font color="#007700">[</font><font color="#0000BB">$v</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nextpage</font><font color="#007700">=</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"&amp;offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"nextP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$prevpage</font><font color="#007700">=</font><font color="#0000BB">$navvars</font><font color="#007700">.</font><font color="#DD0000">"&amp;offset="</font><font color="#007700">.</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"prevP"</font><font color="#007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$initialized</font><font color="#007700">=</font><font color="#0000BB">True</font><font color="#007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">implode</font><font color="#007700">(</font><font color="#DD0000">''</font><font color="#007700">,</font><font color="#0000BB">$head</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:nextpage&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$nextpage</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:prevpage&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$prevpage</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;N:navvars&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$navvars</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//echo&nbsp;"-".($dat["parset"])."#";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;((</font><font color="#0000BB">$dat</font><font color="#007700">[</font><font color="#DD0000">"parset"</font><font color="#007700">]==</font><font color="#0000BB">True</font><font color="#007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--STARTPARSET--&gt;.+&lt;!--ENDPARSET--&gt;/"</font><font color="#007700">,</font><font color="#DD0000">"&lt;!--STARTPARSET--&gt;&lt;!--ENDPARSET--&gt;"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//dataDump($dat);echo&nbsp;sizeof($dat);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">for&nbsp;(</font><font color="#0000BB">$j</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$dat_size</font><font color="#007700">=</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);</font><font color="#0000BB">$j</font><font color="#007700">&lt;</font><font color="#0000BB">$dat_size</font><font color="#007700">;</font><font color="#0000BB">$j</font><font color="#007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug(key($SYS["GLOBAL"])."-".current($SYS["GLOBAL"])."-&nbsp;$i");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">])===</font><font color="#0000BB">FALSE</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"GLOBAL"</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$j</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$dat_size</font><font color="#007700">=</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);</font><font color="#0000BB">$j</font><font color="#007700">&lt;</font><font color="#0000BB">$dat_size</font><font color="#007700">;</font><font color="#0000BB">$j</font><font color="#007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug(key($dat)."-".current($dat)."-&nbsp;$i");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)===</font><font color="#0000BB">False</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">ereg_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;.*&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;I:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;P:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">nl2br</font><font color="#007700">(</font><font color="#0000BB">strip_tags</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),</font><font color="#DD0000">"&lt;br&gt;"</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;D:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;M:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;S:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">),&nbsp;</font><font color="#0000BB">5</font><font color="#007700">,&nbsp;</font><font color="#DD0000">','</font><font color="#007700">,&nbsp;</font><font color="#DD0000">'.'</font><font color="#007700">).</font><font color="#DD0000">"&nbsp;&amp;euro;"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;F:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"%.5f"</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;A:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y&nbsp;&amp;nbsp;"</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;T:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%H:%M&nbsp;&amp;nbsp;"</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;H:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">strftime</font><font color="#007700">(</font><font color="#DD0000">"%d/%m/%Y&nbsp;%H:%S"</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;C:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">"checked"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;R:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">int_to_text_ex</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;L:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">substr</font><font color="#007700">(</font><font color="#0000BB">strip_tags</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">30</font><font color="#007700">).</font><font color="#DD0000">"..."</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;NR:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">number_format</font><font color="#007700">(</font><font color="#0000BB">sprintf</font><font color="#007700">(</font><font color="#DD0000">"hola&nbsp;%.2f"</font><font color="#007700">,</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)),</font><font color="#0000BB">2</font><font color="#007700">,</font><font color="#DD0000">','</font><font color="#007700">,</font><font color="#DD0000">''</font><font color="#007700">),</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Checkboxes&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$checked_if_checkbox</font><font color="#007700">=(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)==</font><font color="#DD0000">'Si'</font><font color="#007700">)&nbsp;?&nbsp;</font><font color="#DD0000">"CHECKED"&nbsp;</font><font color="#007700">:&nbsp;</font><font color="#DD0000">"DISABLE"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;G:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$checked_if_checkbox</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*VNH*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'01/01/1970&nbsp;&amp;nbsp;'</font><font color="#007700">,</font><font color="#DD0000">"-"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'01:00&nbsp;&amp;nbsp;'</font><font color="#007700">,</font><font color="#DD0000">"-"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Dynamic&nbsp;Selects&nbsp;Try&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;dynamic_class&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$cc</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//die("&lt;textarea&nbsp;cols='100'&nbsp;rows='10'&gt;$res&lt;/textarea&gt;");&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Soporte&nbsp;para&nbsp;selects&nbsp;dinámicos&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//debug("External&nbsp;data&nbsp;".$external[key($dat)]."&nbsp;(".key($dat).")&nbsp;","cyan");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if&nbsp;(isset(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug($external[key($dat)],"cyan");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$ext_key_isze</font><font color="#007700">=</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]);</font><font color="#0000BB">$i</font><font color="#007700">&lt;</font><font color="#0000BB">$ext_key_isze</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&lt;option&nbsp;value=\""</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]).</font><font color="#DD0000">"\"&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)])==</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&nbsp;SELECTED&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">is_array</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">in_array</font><font color="#007700">(</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]),</font><font color="#0000BB">array_keys</font><font color="#007700">(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">))))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&nbsp;SELECTED&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)])==</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&nbsp;SELECTED&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$aux</font><font color="#007700">=</font><font color="#0000BB">explode</font><font color="#007700">(</font><font color="#DD0000">"|"</font><font color="#007700">,(</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)])));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">$aux</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]==</font><font color="#DD0000">"Off"</font><font color="#007700">)&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&nbsp;DISABLED&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#0000BB">$aux</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">].</font><font color="#DD0000">"&lt;/option&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug($buffer,"cyan");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res_aux</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;X:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">=</font><font color="#DD0000">""</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#DD0000">"&lt;!--&nbsp;EXTERNAL&nbsp;DATA&nbsp;--&gt;&nbsp;"</font><font color="#007700">.</font><font color="#0000BB">$res_aux</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//&nbsp;Soporte&nbsp;para&nbsp;radion&nbsp;button&nbsp;dinámicos&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">reset</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">,</font><font color="#0000BB">$ext_key_isze</font><font color="#007700">=</font><font color="#0000BB">sizeof</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]);</font><font color="#0000BB">$i</font><font color="#007700">&lt;</font><font color="#0000BB">$ext_key_isze</font><font color="#007700">;</font><font color="#0000BB">$i</font><font color="#007700">++)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&lt;input&nbsp;type=\"radio\"&nbsp;name="</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">"&nbsp;value=\""</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]).</font><font color="#DD0000">"\"&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)])==</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&nbsp;CHECKED&nbsp;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#DD0000">"&gt;"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">.=</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]).</font><font color="#DD0000">""</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$external</font><font color="#007700">[</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">)]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res_aux</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;B:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#0000BB">$buffer</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$buffer</font><font color="#007700">=</font><font color="#DD0000">""</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#DD0000">"&lt;!--&nbsp;EXTERNAL&nbsp;DATA&nbsp;--&gt;&nbsp;"</font><font color="#007700">.</font><font color="#0000BB">$res_aux</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Dynamic&nbsp;Selects&nbsp;&nbsp;2nd&nbsp;Try&nbsp;*/<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">str_replace</font><font color="#007700">(</font><font color="#DD0000">'&lt;!--&nbsp;O:'</font><font color="#007700">.</font><font color="#0000BB">key</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#0000BB">current</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">).</font><font color="#DD0000">'&nbsp;--&gt;'</font><font color="#007700">,</font><font color="#DD0000">"SELECTED"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">next</font><font color="#007700">(</font><font color="#0000BB">$dat</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/*&nbsp;Function&nbsp;call&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\(\"(.*)\"\)&nbsp;--&gt;/e"</font><font color="#007700">,</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\('(.*)'\)&nbsp;--&gt;/e"</font><font color="#007700">,</font><font color="#DD0000">"\\1('\\2')"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"/&lt;!--&nbsp;K:(.*)\((.*)\)&nbsp;--&gt;/e"</font><font color="#007700">,</font><font color="#DD0000">"\\1(\\2)"</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">//debug($res,"red");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//debug("Plantilla&nbsp;parseada!");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$nn</font><font color="#007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">=</font><font color="#0000BB">preg_replace</font><font color="#007700">(</font><font color="#DD0000">"'&lt;[\/\!]*?[^&lt;&gt;]*?--&gt;'si"</font><font color="#007700">,</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">$res</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$SYS</font><font color="#007700">[</font><font color="#DD0000">"parse_planty_time"</font><font color="#007700">]+=(</font><font color="#0000BB">getmicrotime</font><font color="#007700">()-</font><font color="#0000BB">$bm</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</font><font color="#0000BB">$res</font><font color="#007700">.</font><font color="#DD0000">"\t&lt;!--&nbsp;END&nbsp;OF&nbsp;SET&nbsp;--&gt;\n"</font><font color="#007700">;;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">?&gt;</font>
</font>
</code></div>
		<br><br>
		<div align="center"><a href="lib_planty_m1-index.html">up</a></div>
		<br><br>
		</body>
		